# 库存优化思路和想法：

1. 直接把sql打印出来直接，用springjdbc模拟sql流程 测试哪一个sql 最耗时。
2. 减少和数据库的交互，能走缓存就走缓存。
3. 可以异步的日志，job或者消息操作。
4. 能放到事务外处理的，尽量移到外面。
5. 如果在一个大事务中添加每一步的耗时，是很不准确的，这样子事务开始的第一步会被拖耗很多时间。
6. 同一张库存表，根据不同字段更新同一数据会有引发死锁现象。所以更新纬度要统一用主键id
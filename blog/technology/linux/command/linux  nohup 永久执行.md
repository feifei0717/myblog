# linux nohup 

## 介绍：

nohup是永久执行

&是指在后台运行

运行 nohup --help
Run COMMAND, ignoring hangup signals. 可以看到是“运行命令，忽略挂起信号”

就是指，用nohup运行命令可以使命令永久的执行下去，和用户终端没有关系，例如我们断开SSH连接都不会影响他的运行，注意了nohup没有后台运行的意思；&才是后台运行

&是指在后台运行，但当用户推出(挂起)的时候，命令自动也跟着退出

那么，我们可以巧妙的吧他们结合起来用就是
nohup COMMAND &
这样就能使命令永久的在后台执行

举个例子nohup tail -f nohup.out
然后退出登录，再连接，用ps -ef 你会还能看到在运行
ps -ef
root      3457     1  0 18:20 ?        00:00:00 tail -f nohup.out

另外，nohup执行后，会产生日子文件，把命令的执行中的消息保存到这个文件中，一般在当前目录下，如果当前目录不可写，那么自动保存到执行这个命令的用户的home目录下，例如root的话就保存在/root/下

这个我们常在运行命令和脚本中常用到的







玩过Linux的人应该都知道，如果想让一个程序在后台运行，只要在执行命令的末尾加上一个&符号就可以了。但是这种方式不是很保险，有些程序当你登出终端后它就会停止。那么如何让一个程序真正永远在后台执行呢。答案就是使用 nohub 命令，格式为：

nohup 执行程序的命令 &

如果程序有输出，它会试着把输出写入执行上述命令的当前文件夹下的 nohup.out 文件中，当写入失败，就会写当前用户的$HOME目录下的nohup.out 中。

nohup不输出日志信息的方法，及linux重定向学习

起因

　　最近使用nohup创建了一个后台进程，默认日志输出到了nohup.out文件中，程序跑起来也就没再管，过了大约一周，发现硬盘空间不够了，于是查找原因，发现这个nohup.out文件已经到了70G了，导致硬盘空间不足了。

解决方案

　　只输出错误信息到日志文件

　　nohup ./program >/dev/null 2>log &

　　什么信息也不要

　　nohup ./program >/dev/null 2>&1 &

知识补充，关于Linux的重定向

　　Linux的3中重定向

　　0:表示标准输入

　　1:标准输出,在一般使用时，默认的是标准输出

　　2:标准错误信息输出

　　可以用来指定需要重定向的标准输入或输出。例如，将某个程序的错误信息输出到log文件中：./program 2>log。这样标准输出还是在屏幕上，但是错误信息会输出到log文件中。另外，也可以实现0，1，2之间的重定向。2>&1：将错误信息重定向到标准输出。

　　关于/dev/null文件

　　Linux下还有一个特殊的文件/dev/null，它就像一个无底洞，所有重定向到它的信息都会消失得无影无踪。这一点非常有用，当我们不需要回显程序的所有信息时，就可以将输出重定向到/dev/null。

 